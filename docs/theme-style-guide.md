# Theme Governance Playbook

The Forestal MT theme now ships with design tokens that cover spacing, typography, elevation, motion, and interactive
states across light and dark mode. Tokens live in `packages/theme/tokens/theme.json` and power three integration points:

1. **CSS variables** generated by Style Dictionary (`pnpm build:tokens`) and imported globally from
   `apps/web/app/globals.css`.
2. **Tailwind utilities** supplied through the reusable preset in `packages/theme/tailwind-preset.ts`. All apps can share
   the same semantic classes (`bg-primary`, `p-sm`, `text-display-lg`, etc.).
3. **Storybook foundations** under `Foundations/Theme`, which documents how to apply the tokens for color, spacing,
   typography, and interaction states with live responsive previews.

## Regenerating tokens

```bash
pnpm install
pnpm build:tokens
```

The Style Dictionary pipeline outputs CSS variables at `packages/theme/dist/css/tokens.css` and a machine-readable JSON
map at `packages/theme/dist/tokens.json`. Commit both when design tokens change so other packages can consume the same
version.

## Accessibility and state guidance

- Shared state tokens (`--color-state-hover`, `--color-focus-ring`, `--color-state-disabled`, etc.) enforce hover, focus,
  and disabled treatments for every interactive element. Global base styles in `globals.css` apply focus rings that meet
  WCAG 2.1 AA.
- Storybookâ€™s `@storybook/addon-a11y` runs contrast checks (specifically `color-contrast`) for each story, and the
  `storybook:test` script can be used in CI to block regressions.

## Responsive usage patterns

- Prefer spacing utilities such as `gap-sm`, `py-md`, or the container padding token `var(--space-md)` to keep rhythm
  consistent across breakpoints.
- Typography utilities (`text-body`, `text-title-sm`, `text-display-lg`) already encode appropriate line heights and
  letter-spacing, so new components rarely need custom font declarations.
- Motion utilities (`duration-sm`, `ease-standard`) provide consistent easing curves and timings. Pair them with the new
  `fade-in` animation for subtle entrance transitions.

For additional examples, run `pnpm storybook` and inspect the Theme foundations story in both light and dark modes.
